import{e as t,j as r,W as l,a as m}from"./wanim-scene-example.Cq1RX7Ki.js";import{S as o}from"./square.BbMVU_wJ.js";import"./index.DRBQTP7f.js";class u extends t{timeline=[];_timelineIndex=0;_delayTimer=0;_promisePending=!1;_promiseResolved=!1;play(){this._timelineIndex=-1,this.queueNextItem(),super.play()}update(e){if(!this._running||this._timelineIndex>=this.timeline.length)return;const i=this.timeline[this._timelineIndex];if(i instanceof t)i.update(e),i.isRunning||this.queueNextItem();else if(Array.isArray(i)){let n=!0;for(const s of i)s instanceof t&&(s.update(e),s.isRunning&&(n=!1));n&&this.queueNextItem()}else if(typeof i=="function")if(this._promisePending)this._promiseResolved&&(this._promisePending=!1,this._promiseResolved=!1,this.queueNextItem());else{const n=i();n instanceof Promise&&(this._promisePending=!0,this._promiseResolved=!1,n.then(()=>{this._promiseResolved=!0}))}else typeof i=="number"&&(this._delayTimer+=e,this._delayTimer>=i&&(this._delayTimer=0,this.queueNextItem()))}queueNextItem(){if(this._timelineIndex++,this._timelineIndex>=this.timeline.length){this.complete();return}const e=this.timeline[this._timelineIndex];if(e instanceof t)e.play();else if(Array.isArray(e))for(const i of e)i instanceof t&&i.play()}append(e){return this.timeline.push(e),this}join(e){const i=this.timeline[this.timeline.length-1];if(i instanceof t)this.timeline.splice(this.timeline.length-1,1,[i,e]);else if(Array.isArray(i))i.push(e);else throw new Error("Cannot join to a non-tween item in the sequence.");return this}wait(e){return this.timeline.push(e),this}callback(e){return this.timeline.push(e),this}}function h(){return new u}class f extends m{async run(){const e=this.add(new o(-2,0,2));e.setFill("red"),e.scale=[0,0],e.show(),await this.play(h().append(e.animate.scale([1,1],1).ease("outElastic")).wait(.5).append(e.animate.x(2,1).ease("inOutSine")).append(e.animate.scale([0,0],1).ease("inOutSine")).join(e.animate.rotate(180,1).ease("inOutSine")))}}function x(){return r.jsx(l,{scene:f})}export{x as SequencesExample};
